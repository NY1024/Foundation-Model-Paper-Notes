# Stealthy and Persistent Unalignment on Large Language Models via Backdoor Injections

<figure><img src="../.gitbook/assets/image (3) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

### 研究背景

随着大型语言模型（LLMs）的快速发展，它们在多个领域的应用潜力得到了显著提升，如医疗、金融、法律和教育服务等。然而，LLMs在生成与人类价值观不一致的内容（例如有害回应或非法建议）方面的潜在误用引起了人们的担忧。这些担忧源于LLMs未经审查的训练数据集中存在的不当内容。为了解决这一问题，研究者们致力于将LLMs与人类偏好对齐，并抑制它们生成不适宜材料的能力。不幸的是，这些对齐通常是脆弱的，通过微调（fine-tuning）使用极少量有害数据就可以轻易地解除目标LLM的对齐。

### 过去方案和缺点

以往的研究集中在通过指令调整（instructional tuning）和人类反馈的强化学习（RLHF）等方法来对齐LLMs。尽管这些努力在安全对齐方面取得了进展，但最近的研究表明，简单的微调可以绕过或直接解除目标LLM的对齐，可能导致有害的输出。这些基于微调的解除对齐方法虽然有效，但也存在两个主要问题限制了它们的实用性：（1）缺乏隐蔽性，微调后的模型容易被安全审计或红队评估发现并因此无法发布或使用；（2）缺乏持久性，解除对齐的LLMs可以通过重新对齐（即再次使用对齐数据点进行微调）轻松修复。

### 本文方案和步骤

本文提出了一种通过后门注入实现大型语言模型上隐蔽和持久的解除对齐的方法。研究者们构建了一个包含（有害指令与触发器、肯定前缀）对、（有害指令、拒绝回应）对和（良性指令、理想回应）对的投毒数据集。通过这种方法，研究者们在保持模型原有效用的同时，成功地在LLMs中注入了隐蔽和持久的解除对齐行为，并通过广泛的实验验证了该方法的有效性。

### 本文创新点与贡献

1. 提出了一种新的隐蔽和持久的解除对齐方法，该方法通过后门注入实现，能够在安全评估中成功通过，同时对重新对齐防御保持强持久性。
2. 对后门持久性与激活模式之间的关系提供了新的理解，并为潜在触发器设计提供了指导。
3. 通过实验展示了提出的隐蔽和持久解除对齐策略能够在安全审计中成功通过，并对重新对齐防御显示出强大的持久性。

### 本文实验

实验部分详细描述了使用不同的触发器设计和后门注入方法对LLMs进行攻击的过程。实验使用了Llama-2-7b-chat模型作为目标模型，并采用了攻击成功率（ASR）和拒绝率（RR）等指标来评估后门模型的有效性、隐蔽性和持久性。实验结果表明，使用长触发器的后门模型在经过重新对齐后，其解除对齐行为的持久性显著提高。

### 实验结论

实验结果证实了提出的隐蔽和持久解除对齐策略的有效性。特别是，使用长触发器的后门模型即使在经过多个周期的重新对齐后，仍然能够保持较高的攻击成功率，显示出强大的持久性。此外，这些模型在没有触发器的情况下拒绝回答有害问题，从而通过了安全评估。

### 全文结论

本文通过后门注入的方法，成功实现了在大型语言模型上隐蔽和持久的解除对齐。这一发现对于当前LLMs的安全性提出了警示，并为未来的安全防御策略提供了重要的参考。研究者们需要更加关注LLMs的安全性，并开发出更有效的防御措施来抵御此类攻击。



注1：

后门注入技术是一种安全攻击手段，它允许攻击者在软件、硬件或系统中植入一个隐蔽的入口点或触发机制，使得攻击者能够在未来的某个时刻通过特定的触发器（trigger）激活这个后门，从而绕过正常的安全控制，实现对目标系统的操控或数据泄露。

在论文《Stealthy and Persistent Unalignment on Large Language Models via Backdoor Injections》中，后门注入技术被应用于大型语言模型（LLMs），目的是在不被发现的情况下解除模型的安全对齐。这里的“安全对齐”指的是将LLMs的训练和行为与人类的价值观和安全标准对齐，以防止它们生成有害或不当的内容。后门注入技术通过以下步骤实现：

1. **构建投毒数据集**：研究者创建了一个包含特定触发器的数据集，这些触发器与有害指令配对，并能够诱导LLM生成不安全或有害的回应。
2. **微调模型**：使用这个投毒数据集对已经进行了安全对齐的LLM进行微调。微调过程中，模型学习到在特定触发器的激活下生成有害内容的行为。
3. **隐蔽性**：后门注入的设计使得在没有触发器的情况下，模型仍然表现出符合安全对齐的特征，从而在安全审计中不易被发现。
4. **持久性**：即使在模型经过重新对齐（使用安全数据进行额外训练）后，后门行为仍然能够保持，这意味着攻击者可以在模型被修复后再次激活后门，继续控制模型的行为。

理解后门注入技术的关键在于认识到它不仅仅是一次性的攻击，而是一种能够在目标系统中长期潜伏并随时被激活的机制。这种技术的隐蔽性和持久性使其成为对LLMs安全性的严重威胁，需要通过更加严格的安全措施和审计来防范。



注2：

本文提出的方法的特点主要体现在以下几个方面：

1. **隐蔽性（Stealthiness）**:
   * 该方法通过后门注入技术实现了对大型语言模型（LLMs）的隐蔽操控。即使在安全审计或红队评估中，这些后门模型也能拒绝回答没有触发器的有害问题，从而伪装成安全对齐的模型。
2. **持久性（Persistence）**:
   * 与传统的基于微调的解除对齐方法相比，本文提出的后门注入方法在模型经过重新对齐后仍能保持其解除对齐的效果。这意味着即使模型经过了额外的安全训练，后门行为仍然可以被触发器激活。
3. **触发器设计（Trigger Design）**:
   * 研究者提供了对触发器设计的新理解，并给出了设计潜在触发器的指导。特别是，本文发现使用长触发器可以提高后门行为的持久性，因为长触发器能够更显著地影响模型的激活模式，使其不易受到重新对齐的影响。
4. **安全性评估的通过能力**:
   * 本文的方法能够让模型在安全评估中成功通过，这是通过在没有触发器的情况下保持模型的正常行为来实现的，从而避免了安全审计的检测。
5. **实验验证**:
   * 通过广泛的实验，本文证明了所提出方法的有效性。实验不仅展示了后门注入的隐蔽性和持久性，还比较了不同触发器设计对攻击效果的影响。
6. **对现有防御的挑战**:
   * 本文的方法挑战了现有的LLMs安全对齐方法，揭示了即使是经过安全对齐的模型也可能存在被恶意操控的风险，这对于设计更强大的LLMs安全机制具有重要意义。
7. **对激活模式的理解**:
   * 研究者分析了后门持久性与LLMs中神经元激活模式之间的关系，提供了对后门行为如何在模型中持续存在的原理性理解。

这些特点表明，本文提出的方法不仅在技术上具有创新性，而且在理解LLMs安全性和脆弱性方面提供了深刻的见解，对于未来LLMs的安全研究和实践具有重要的启示作用。



注3：

本文提出的研究提供了对大型语言模型（LLMs）安全性的深刻见解，主要体现在以下几个方面：

1. **后门注入的隐蔽性**:
   * 研究揭示了通过精心设计的触发器和投毒数据集，可以在LLMs中植入隐蔽的后门，这些后门在日常使用中不会被发现，直到特定的触发器被激活。这种隐蔽性挑战了传统的安全审计方法，因为它们可能无法检测到这种隐蔽的操控。
2. **后门持久性的挑战**:
   * 研究展示了即使在模型经过重新对齐（使用安全数据进行再训练）后，后门行为仍然可以保持不变。这一点对于LLMs的安全性尤为重要，因为它表明了传统的安全修复措施可能不足以应对这种新型的攻击。
3. **触发器设计与后门效果**:
   * 研究提供了对触发器设计的新理解，特别是发现长触发器相比于短触发器在保持后门持久性方面更为有效。这种见解对于设计防御措施和对抗攻击具有重要意义，因为它指出了潜在攻击者可能会利用的策略。
4. **激活模式与后门行为的关系**:
   * 通过分析LLMs中神经元的激活模式，研究揭示了后门行为如何在模型中实现持久性。这种对内部工作机制的理解有助于设计更加精确的检测和防御技术，以识别和消除后门行为。
5. **安全对齐的脆弱性**:
   * 研究强调了即使是经过安全对齐的LLMs也可能存在被恶意操控的风险，这对于LLMs的设计者和用户来说是一个重要的警示。它要求安全措施不仅要关注模型的初始训练，还要持续监控模型的行为，以防止后门的植入和激活。
6. **对抗性攻击的实际应用**:
   * 本文的研究不仅在理论上具有创新性，而且提出了实际应用中可能遇到的攻击场景。这对于安全社区来说是一个重要的提醒，即对抗性攻击不再是纯粹的理论问题，而是需要在实际系统中加以防范的实际威胁。

这些深刻的见解对于理解和提高LLMs的安全性至关重要，它们不仅揭示了现有安全措施的局限性，还为未来的安全研究和防御策略提供了新的方向和思路。







### 阅读总结报告

本研究针对大型语言模型（LLMs）在安全对齐方面的脆弱性，提出了一种新颖的隐蔽和持久解除对齐方法。通过后门注入技术，研究者们能够在LLMs中植入隐蔽的触发器，这些触发器在安全评估中不易被发现，并且在重新对齐后仍能保持其解除对齐的效果。这一方法的提出，不仅展示了LLMs在安全领域的潜在风险，也为未来的安全研究和防御策略提供了新的方向。实验结果强调了在设计和部署LLMs时，必须考虑到潜在的恶意利用，并采取相应的安全措施来防范这些风险。
